<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Recipe Grid</title>
        <style>
        body {
            font-family: Georgia, 'Times New Roman', Times, serif, Sans-Serif;
            background-color: #d3f0df;
            margin: 0;
            padding: 0;
            height: 100%;
        }
        .container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            height: 100%;
        }
        .filter-section {
            /* Filter section backround */
            flex: 0 0 15%;
            width: 20%;
            background-color: #345c45;
            color: white;
            padding: 20px;
            height: 100vh;
        }
        .filter-section h2 {
            /* Filter Section header "Filters" */
            color: #fafafa;
            font-size: 40px;
            margin-bottom: 20px;
        }
        .filter-section ul {
            list-style: none;
            padding: 0;
        }
        .filter-section li {
            margin: 10px 0;
            font-size: 18px;
        }
        .filter-section .active {
            /* Filter section boxes */
            background-color: #b9d1a1;
            font-family: Times New Roman;
            font-size: 35px;
            padding: 10px;
            border-radius: 5px;
            border-color: #b9d1a1;
            margin-bottom: 8px;
        }
        .active.selected {
            /* Selected buttons */
            background-color: #7f8080;
        }
        .recipe-grid {
            /* Grid page */
          flex: 1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            height: 100%;
            overflow-y: auto;
        }
        .recipe-card {
            /* Recipe boxes */
            background-color: #79a489;
            border-radius: 10px;
            text-align: center;
            padding: 20px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        .recipe-card .recipe-image {
            /* Recipe image */
            width: 180px;
            height: 180px;
            background-color: #e1e1e1;
            border-radius: 50%;
            margin: 0 auto 15px;
        }
        .recipe-image img {
            width: 100%;  /* Makes the image fill the div */
            height: 100%; /* image stays contained */
            object-fit: cover; /* image covers the entire area without distortion */
            border-radius: 50%; /* Keeps image circular */
        }
        .recipe-card h3 {
            /* Recipe name: "Recipe 1" */
            font-size: 30px;
            margin: 10px 0;
        }
        .recipe-card .add-button {
            /* '+' Buttons */
            display: inline-block;
            font-size: 60px;
            color: #ffffff;
            background-color: #345c45;
            border: none;
            border-radius: 50%;
            text-align: center;
            line-height: 70px;
            cursor: pointer;
            text-decoration: none;
            width: 80px;
            height: 80px;
        }
        </style>
    </head>
    <body>
        <div class="container">
                <!-- Filter Section -->
            <div class="filter-section">
                <h2 font-size: 20px;> </h2>
                <ul>
                  <button class = "active filter-btn" type="button" onclick="alert('Selected1')">Vegan</button>
                  <br>
                  <button class = "active filter-btn" type="button" onclick="alert('Selected2')">Halal</button>
                  <br>
                  <button class = "active filter-btn" type="button" onclick="alert('Selected3')">Gluten Free</button>
                  <br>
                  <button class = "active filter-btn" type="button" onclick="alert('Selected4')">Lactose Free</button>
                  <br>
                  <button class = "active filter-btn" type="button" onclick="alert('Selected1')">Vegetarian</button>
                  <br>
                </ul>
            </div>
    
            <!-- Recipe Grid Section - Placeholder before backend sends data, can be deleted-->
            <div class="recipe-grid">
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>       
                    <h3>Recipe 1</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>     
                    <h3>Recipe 2</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>     
                    <h3>Recipe 3</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>     
                    <h3>Recipe 4</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>     
                    <h3>Recipe 5</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
                <div class="recipe-card">
                    <div class="recipe-image">
                        <img src="example-image.jpg" alt="Recipe Image">
                    </div>     
                    <h3>Recipe 6</h3>
                    <a href="https://www.example.com" class="add-button">+</a>
                </div>
            </div> <!-- End of placeholder, can be deleted-->
        </div>
        <!-- Script for filter button toggle -->
        <script>
            const buttons = document.querySelectorAll('.filter-btn');
            
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    // Toggle the 'selected' class on click
                    this.classList.toggle('selected');
                });
            });
        </script>
                <!-- Script for backend data -->
                <script>
                    // const apiURL = ...
                    // Get data from backend and update
                    async function loadRecipes() {
                try { //statement to be executed if no errors
                    const response = await fetch(apiURL);
                    const recipes = await response.json();

                    const recipeGrid = document.querySelector('.recipe-grid');
                    recipeGrid.innerHTML = ''; //Clear recipe grid

                    // Loop through the recipes and create cards
                    recipes.forEach(recipe => {
                        // Create the recipe card HTML structure
                        const recipeCard = document.createElement('div');
                        recipeCard.classList.add('recipe-card');

                                recipeCard.innerHTML = `
                                    <div class="recipe-image">
                                        <img src="${recipe.image}" alt="${recipe.name}">
                                    </div>

                                    <h3>${recipe.name}</h3>
                                    <a href="${recipe.url}" class="add-button" target="_blank">+</a>
                                `;

                         //Add new recipe card to the grid after getting data
                            recipeGrid.appendChild(recipeCard);
                            });
                        } catch (error) { //Error message
                            console.error('Error fetching recipes:', error);
                        }
                    }
                    // Load recipes after the page loads
                    document.addEventListener('DOMContentLoaded', loadRecipes);
                </script>
    </body>
</html>
