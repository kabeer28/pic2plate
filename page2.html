<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Grid</title>
    <style>
        body {
            font-family: Georgia, 'Times New Roman', Times, serif, Sans-Serif;
            background-color: #d3f0df;
            margin: 0;
            padding: 0;
            height: 100%;
        }
        .navbar {
            display: flex;
            gap: 11%;
            background-color:#285533;
            padding: 10px;
            border-radius: 10px;
            width: 100%;
            justify-content: center;
        }
        .navbar a {
            text-decoration: none;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: black;
            font-size: large;
            font-weight: bold;
            padding: 1.5% 2%;
            background-color: #a7e7c8;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .navbar a:hover {
            background-color: #a7e7c8;
        }
        .content {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            width: 100%;
            max-width: 1200px;
        }
        .container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            height: 100%;
        }
        .filter-section {
            flex: 0 0 15%;
            width: 20%;
            background-color: #345c45;
            color: white;
            padding: 20px;
            height: 100vh;
        }
        .filter-section h2 {
            color: #fafafa;
            font-size: 40px;
            margin-bottom: 20px;
        }
        .filter-section ul {
            list-style: none;
            padding: 0;
        }
        .filter-section li {
            margin: 10px 0;
            font-size: 18px;
        }
        .filter-section .active {
            background-color: #b9d1a1;
            font-family: Times New Roman;
            font-size: 35px;
            padding: 10px;
            border-radius: 5px;
            border-color: #b9d1a1;
            margin-bottom: 8px;
        }
        .active.selected {
            background-color: #7f8080;
        }
        .recipe-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding: 20px;
            height: 100%;
            overflow-y: auto;
        }
        .recipe-card {
            background-color: #79a489;
            border-radius: 10px;
            text-align: center;
            padding: 20px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        .recipe-card .recipe-image {
            width: 180px;
            height: 180px;
            background-color: #e1e1e1;
            border-radius: 50%;
            margin: 0 auto 15px;
        }
        .recipe-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        .recipe-card h3 {
            font-size: 30px;
            margin: 10px 0;
        }
        .recipe-card .add-button {
            display: inline-block;
            font-size: 60px;
            color: #ffffff;
            background-color: #345c45;
            border: none;
            border-radius: 50%;
            text-align: center;
            line-height: 70px;
            cursor: pointer;
            text-decoration: none;
            width: 80px;
            height: 80px;
        }
        .fade-in {
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .fade-in.visible {
            opacity: 1;
        }
        #loading {
            display: none; /* Initially hidden */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 30px;
            color: #345c45;
        }
    </style>
</head>
<body>
    <div id="navbar-placeholder"></div>
    <div id="loading">Loading...</div>
    <div class="container">
        <!-- Filter Section -->
        <div class="filter-section">
            <h2>Filters</h2>
            <ul>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected Vegan')">Vegan</button></li>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected Halal')">Halal</button></li>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected Gluten Free')">Gluten Free</button></li>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected Lactose Free')">Lactose Free</button></li>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected <600cal')"><600cal</button></li>
                <li><button class="active filter-btn" type="button" onclick="alert('Selected >600cal')">>600cal</button></li>
            </ul>
        </div>

        <!-- Recipe Grid Section -->
        <div class="recipe-grid fade-in" id="recipe-grid">
            <!-- Dynamic recipe cards will be populated here -->
        </div>
    </div>

    <!-- Script for filter button toggle -->
    <script>
        // Load the navbar
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
            });

        // Display loading message
        document.getElementById('loading').style.display = 'block';

        // Retrieve ingredients from local storage
        const ingredients = JSON.parse(localStorage.getItem('ingredients')) || [];
        const recipeGrid = document.getElementById('recipe-grid');

        // Function to create recipe cards
        function createRecipeCard(name, imageUrl) {
            const card = document.createElement('div');
            card.classList.add('recipe-card');

            const imageDiv = document.createElement('div');
            imageDiv.classList.add('recipe-image');
            const img = document.createElement('img');
            img.src = imageUrl || 'example-image.jpg'; // Fallback image
            img.alt = 'Recipe Image';
            imageDiv.appendChild(img);

            const title = document.createElement('h3');
            title.textContent = name;

            const button = document.createElement('a');
            button.href = 'https://www.example.com'; // Change this URL as needed
            button.classList.add('add-button');
            button.textContent = '+';

            card.appendChild(imageDiv);
            card.appendChild(title);
            card.appendChild(button);
            recipeGrid.appendChild(card);
        }

        // Example recipes (populate with real data)
        const exampleRecipes = [
            { name: 'Recipe 1', imageUrl: 'example-image.jpg' },
            { name: 'Recipe 2', imageUrl: 'example-image.jpg' },
            { name: 'Recipe 3', imageUrl: 'example-image.jpg' },
            { name: 'Recipe 4', imageUrl: 'example-image.jpg' },
            { name: 'Recipe 5', imageUrl: 'example-image.jpg' },
            { name: 'Recipe 6', imageUrl: 'example-image.jpg' }
        ];

        // Load recipes into grid
        exampleRecipes.forEach(recipe => createRecipeCard(recipe.name, recipe.imageUrl));

        // Hide loading message and show recipe grid
        document.getElementById('loading').style.display = 'none';
        recipeGrid.classList.add('visible');

        // Filter button functionality
        const buttons = document.querySelectorAll('.filter-btn');
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                this.classList.toggle('selected');
                // Implement filtering logic here based on selected buttons
            });
        });
    </script>
</body>
</html>
